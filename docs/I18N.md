# Internationalisation (i18n)

## Vue d'ensemble / Overview

**FR:** Cette application utilise [svelte-i18n](https://github.com/kaisermann/svelte-i18n) pour supporter plusieurs langues.  
**EN:** This application uses [svelte-i18n](https://github.com/kaisermann/svelte-i18n) to support multiple languages.

## Langues supportÃ©es / Supported Languages

- ğŸ‡«ğŸ‡· **FranÃ§ais** (par dÃ©faut / default)
- ğŸ‡¬ğŸ‡§ **English**

## Structure des fichiers / File Structure

```
src/lib/i18n/
â”œâ”€â”€ index.js                 # Configuration principale / Main configuration
â””â”€â”€ locales/
    â”œâ”€â”€ fr.json             # Traductions franÃ§aises / French translations
    â””â”€â”€ en.json             # Traductions anglaises / English translations
```

## Utilisation / Usage

### Dans un composant Svelte / In a Svelte component

```svelte
<script>
	import { _ } from 'svelte-i18n';
</script>

<h1>{$_('app.title')}</h1>
<p>{$_('app.description')}</p>
```

### Avec des variables / With variables

```svelte
{$_('ram.insufficientForInstall', { values: { min: MIN_RAM_GB } })}
```

### Changer de langue / Change language

```javascript
import { locale } from 'svelte-i18n';

// Changer en anglais / Change to English
locale.set('en');

// Changer en franÃ§ais / Change to French
locale.set('fr');
```

### Composant de sÃ©lection de langue / Language Selector Component

Un composant `LanguageSelector` est disponible dans `src/lib/components/LanguageSelector.svelte`.  
A `LanguageSelector` component is available in `src/lib/components/LanguageSelector.svelte`.

## Ajouter une nouvelle langue / Add a New Language

1. **CrÃ©er un fichier de traduction / Create a translation file:**
   ```bash
   touch src/lib/i18n/locales/es.json  # Pour l'espagnol / For Spanish
   ```

2. **Copier la structure depuis fr.json ou en.json / Copy structure from fr.json or en.json**

3. **Enregistrer la langue dans index.js / Register language in index.js:**
   ```javascript
   register('es', () => import('./locales/es.json'));
   ```

4. **Ajouter au sÃ©lecteur de langue / Add to language selector:**
   ```javascript
   const languages = {
     fr: { name: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' },
     en: { name: 'English', flag: 'ğŸ‡¬ğŸ‡§' },
     es: { name: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' }  // Nouveau / New
   };
   ```

## Ajouter une nouvelle clÃ© de traduction / Add a New Translation Key

1. **Ajouter dans fr.json:**
   ```json
   {
     "nouvelle": {
       "cle": "Nouveau texte en franÃ§ais"
     }
   }
   ```

2. **Ajouter dans en.json:**
   ```json
   {
     "nouvelle": {
       "cle": "New text in English"
     }
   }
   ```

3. **Utiliser dans un composant / Use in component:**
   ```svelte
   {$_('nouvelle.cle')}
   ```

## Bonnes pratiques / Best Practices

### FR:
- Utilisez des clÃ©s descriptives et hiÃ©rarchiques (`app.title`, `chat.send`)
- Gardez les traductions courtes et claires
- Testez toutes les langues aprÃ¨s chaque modification
- Utilisez des variables pour les valeurs dynamiques
- Documentez les nouvelles clÃ©s ajoutÃ©es

### EN:
- Use descriptive and hierarchical keys (`app.title`, `chat.send`)
- Keep translations short and clear
- Test all languages after each modification
- Use variables for dynamic values
- Document newly added keys

## Sauvegarde de la prÃ©fÃ©rence / Preference Saving

**FR:** La langue sÃ©lectionnÃ©e par l'utilisateur est automatiquement sauvegardÃ©e dans `localStorage` sous la clÃ© `preferred-language`.

**EN:** The user's selected language is automatically saved to `localStorage` under the key `preferred-language`.

## DÃ©tection automatique / Automatic Detection

**FR:** Au premier chargement, l'application dÃ©tecte automatiquement la langue du navigateur avec `getLocaleFromNavigator()`. Si la langue n'est pas supportÃ©e, elle utilise le franÃ§ais par dÃ©faut.

**EN:** On first load, the application automatically detects the browser's language using `getLocaleFromNavigator()`. If the language is not supported, it defaults to French.

## Ressources / Resources

- [Documentation svelte-i18n](https://github.com/kaisermann/svelte-i18n)
- [Format ICU pour les messages](https://formatjs.io/docs/core-concepts/icu-syntax/)
